{
    use esmith::templates;
    use esmith::ConfigDB;
    my $db = esmith::ConfigDB->open_ro('proxypass') || die("Can't open proxypass db");

    foreach my $proxy ($db->get_all_by_prop('type'=>'VhostReverse')) {
        my %proxyData = $proxy->props();
        my @ports = (443, 80);

        foreach $port (@ports) {
            $proxyData{VhostName} = $proxy->key;
            $proxyData{Port} = $port;
            $OUT .= esmith::templates::processTemplate({
                MORE_DATA => \%proxyData,
                TEMPLATE_PATH => 'httpd/proxy-extra',
                OUTPUT_TYPE => 'string',
            });
        }
    }
        $OUT .= '';
}
